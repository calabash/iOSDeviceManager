
#import "XCTestConfigurationPlist.h"

@implementation XCTestConfigurationPlist

+ (NSString *)plistWithTestBundlePath:(NSString *)testBundlePath {
    NSString *plist = [XCTestConfigurationPlist plistForXcode83];
    NSString *substitute = [NSString stringWithFormat:@"file://%@", testBundlePath];
    return [plist stringByReplacingOccurrencesOfString:@"TEST_BUNDLE_URL"
                                            withString:substitute];
}

+ (NSString *)plistForXcode83 {
    return @"<?xml	version=\"1.0\"	encoding=\"UTF-8\"?>"
    "<!DOCTYPE	plist	PUBLIC	\"-//Apple//DTD	PLIST	1.0//EN\"	\"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">"
    "<plist	version=\"1.0\">"
    "<dict>"
    "	<key>$archiver</key>"
    "	<string>NSKeyedArchiver</string>"
    "	<key>$objects</key>"
    "	<array>"
    "		<string>$null</string>"
    "		<dict>"
    "			<key>$class</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>16</integer>"
    "			</dict>"
    "			<key>aggregateStatisticsBeforeCrash</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>10</integer>"
    "			</dict>"
    "			<key>automationFrameworkPath</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>0</integer>"
    "			</dict>"
    "			<key>baselineFileRelativePath</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>0</integer>"
    "			</dict>"
    "			<key>baselineFileURL</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>0</integer>"
    "			</dict>"
    "			<key>disablePerformanceMetrics</key>"
    "			<false/>"
    "			<key>emitOSLogs</key>"
    "			<false/>"
    "			<key>initializeForUITesting</key>"
    "			<true/>"
    "			<key>pathToXcodeReportingSocket</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>0</integer>"
    "			</dict>"
    "			<key>productModuleName</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>9</integer>"
    "			</dict>"
    "			<key>reportActivities</key>"
    "			<true/>"
    "			<key>reportResultsToIDE</key>"
    "			<true/>"
    "			<key>sessionIdentifier</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>5</integer>"
    "			</dict>"
    "			<key>targetApplicationArguments</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>0</integer>"
    "			</dict>"
    "			<key>targetApplicationBundleID</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>0</integer>"
    "			</dict>"
    "			<key>targetApplicationEnvironment</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>0</integer>"
    "			</dict>"
    "			<key>targetApplicationPath</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>0</integer>"
    "			</dict>"
    "			<key>testBundleRelativePath</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>0</integer>"
    "			</dict>"
    "			<key>testBundleURL</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>2</integer>"
    "			</dict>"
    "			<key>testsMustRunOnMainThread</key>"
    "			<true/>"
    "			<key>testsToRun</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>0</integer>"
    "			</dict>"
    "			<key>testsToSkip</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>0</integer>"
    "			</dict>"
    "			<key>treatMissingBaselinesAsFailures</key>"
    "			<false/>"
    "		</dict>"
    "		<dict>"
    "			<key>$class</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>4</integer>"
    "			</dict>"
    "			<key>NS.base</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>0</integer>"
    "			</dict>"
    "			<key>NS.relative</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>3</integer>"
    "			</dict>"
    "		</dict>"
    "			<string>TEST_BUNDLE_URL</string>"
    "		<dict>"
    "			<key>$classes</key>"
    "			<array>"
    "				<string>NSURL</string>"
    "				<string>NSObject</string>"
    "			</array>"
    "			<key>$classname</key>"
    "			<string>NSURL</string>"
    "		</dict>"
    "		<dict>"
    "			<key>$class</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>6</integer>"
    "			</dict>"
    "			<key>NS.uuidbytes</key>"
    "			<data>"
    "			qqqqqru7zMzd3e7u7u7u7g=="
    "			</data>"
    "		</dict>"
    "		<dict>"
    "			<key>$classes</key>"
    "			<array>"
    "				<string>NSUUID</string>"
    "				<string>NSObject</string>"
    "			</array>"
    "			<key>$classname</key>"
    "			<string>NSUUID</string>"
    "		</dict>"
    "		<string>/path/to/AUT.app</string>"
    "		<string>com.example.AUT-bundle-identifier</string>"
    "		<string>DeviceAgent</string>"
    "		<dict>"
    "			<key>$class</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>14</integer>"
    "			</dict>"
    "			<key>NS.keys</key>"
    "			<array>"
    "				<dict>"
    "					<key>CF$UID</key>"
    "					<integer>11</integer>"
    "				</dict>"
    "			</array>"
    "			<key>NS.objects</key>"
    "			<array>"
    "				<dict>"
    "					<key>CF$UID</key>"
    "					<integer>12</integer>"
    "				</dict>"
    "			</array>"
    "		</dict>"
    "		<string>XCSuiteRecordsKey</string>"
    "		<dict>"
    "			<key>$class</key>"
    "			<dict>"
    "				<key>CF$UID</key>"
    "				<integer>13</integer>"
    "			</dict>"
    "			<key>NS.keys</key>"
    "			<array/>"
    "			<key>NS.objects</key>"
    "			<array/>"
    "		</dict>"
    "		<dict>"
    "			<key>$classes</key>"
    "			<array>"
    "				<string>NSMutableDictionary</string>"
    "				<string>NSDictionary</string>"
    "				<string>NSObject</string>"
    "			</array>"
    "			<key>$classname</key>"
    "			<string>NSMutableDictionary</string>"
    "		</dict>"
    "		<dict>"
    "			<key>$classes</key>"
    "			<array>"
    "				<string>NSDictionary</string>"
    "				<string>NSObject</string>"
    "			</array>"
    "			<key>$classname</key>"
    "			<string>NSDictionary</string>"
    "		</dict>"
    "			<string>/path/to/XCTAutomationSupport.framework</string>"
    "		<dict>"
    "			<key>$classes</key>"
    "			<array>"
    "				<string>XCTestConfiguration</string>"
    "				<string>NSObject</string>"
    "			</array>"
    "			<key>$classname</key>"
    "			<string>XCTestConfiguration</string>"
    "		</dict>"
    "	</array>"
    "	<key>$top</key>"
    "	<dict>"
    "		<key>root</key>"
    "		<dict>"
    "			<key>CF$UID</key>"
    "			<integer>1</integer>"
    "		</dict>"
    "	</dict>"
    "	<key>$version</key>"
    "	<integer>100000</integer>"
    "</dict>"
    "</plist>";
}

@end
